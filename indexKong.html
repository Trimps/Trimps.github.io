<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

	<title>Trimps</title>
	<meta name="description" content="Trimps">
	<meta name="author" content="Brownprobe">
    <link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" type="text/css" href="css/style.css?11" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65049418-1', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript">
var kongregate = parent.kongregateAPI.getAPI();
</script>
</head>
<!-- 		Trimps
		Copyright (C) 2015 Zach Hood

		This program is free software: you can redistribute it and/or modify
		it under the terms of the GNU General Public License as published by
		the Free Software Foundation, either version 3 of the License, or
		(at your option) any later version.

		This program is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.

		You should have received a copy of the GNU General Public License
		along with this program (if you are reading this on the original
		author's website, you can find a copy at
		<trimps.github.io/license.txt>). If not, see
		<http://www.gnu.org/licenses/>. -->
<body>
	<noscript>
	<div id="checkJavascript" style="position: absolute; height: 100%; width: 100%; font-size: 2vw; padding: 10%; color: white; background-color: black; z-index: 1000000;">
		For some reason, your browser is having trouble loading this game. This game runs on javascript, and if you have an addon such as noscript, you may need to tell it to allow scripts from http://trimps.github.io, which is where this game is hosted.<br/><br/>
		If you are not using any addons that might interfere with javascript, try using the latest versions of Chrome or Firefox. 
	</div>
	</noscript>
	<div id="boneWrapper" style="display: none">
		<div id="boneWrapper0">
			<div class="row">
				<div class="col-xs-2">			
				</div>
				<div class="col-xs-8">
					<div id="boneTitleContainer">
						Bone Trader
					</div>
					<div id="boneOwnedContainer">
						You have <span id="bonesOwned">0</span> bones
					</div>
					<div id="getBonesBtn" class="boneBtn successColor pointer noselect" style="width: 33vw; display: inline-block" onclick="showPurchaseBones()">
						<span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span> Get some more bones</span>						
					</div>
					<br/>
					<span id="bonesFrom">You Can Also Earn Bones In Game By Killing Skeletimps</span>
					<br/>
					<div id="getBundleBtn" class="boneBtn pointer noselect" style="width: 33vw; display: inline-block; font-size: .9em;" onclick="showPurchaseBones(); startBundling()">
						<span class="glyphicon glyphicon-star"></span> Click to Bundle 4 Exotic Imp-orts and get 100 free bones! <span class="glyphicon glyphicon-star"></span>
					</div>
					<div id="boneFlavorRow">
						The Bone Trader trades bones for... bonuses
					</div>
				</div>
				<div class="col-xs-2">
					<div class="boneBtn dangerColor pointer noselect" onclick="hideBones()">
						Close
					</div>
				</div>
			</div>
			<div id="boneBuyRow" class="row">
				<div id="boneBoostsColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">Boosts</div>
					<div class="boostSpacer">
					<div class="boneBuyDesc">Instantly earn the next 12 or 36 hours worth of resources! If you don't have enough storage, storage will be purchased (and the cost deducted) automatically.</div>
					<div id="boostSelectContainer">
						<div id="boost0" class="thingSmall pointer noselect" onclick="selectBoost(0)">
							12 hours
						</div>
						<div id="boost1" class="thingSmall pointer noselect" onclick="selectBoost(1)">
							36 hours
						</div>
					</div>
					<div id="boostPreviewContainer">
						<table id="boostPreview" class="table table-striped">
							<tbody>
							<tr>
								<td>+ <span class="glyphicon glyphicon-apple" title="food"></span> <span id="foodBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> <span id="BarnAdded">0</span> Barns Auto-purchased</td>
							</tr>
							<tr>
								<td>+ <span class="glyphicon glyphicon-tree-deciduous" title="wood"></span> <span id="woodBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> <span id="ShedAdded">0</span> Sheds Auto-purchased</td>
							</tr>
							<tr>
								<td>+ <span class="glyphicon glyphicon-fire" title="metal"></span> <span id="metalBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> <span id="ForgeAdded"></span> Forges Auto-purchased</td>
							</tr>
							<tr>
								<td colspan="2">+ <span class="glyphicon glyphicon-certificate" title="gems"></span> <span id="gemsBoostPreview">0</span></td>
							</tr>
							<tr>
								<td colspan="2">+ <Span class="glyphicon glyphicon-th" title="fragments"></span> <span id="fragmentsBoostPreview">0</span></td>
							</tr>
							</tbody>
						</table>
						<div id="minusRes" style="display: none">
							One of your storage structures will be more expensive than the amount you can receive from this boost. Spend some resources first to get the most benefit!
						</div>
					</div>
					</div>
					<div id="purchaseContainerBoost">
						<div class="boneBtn primaryColor pointer noselect buyBoostBtn" id="boostPurchaseBtn0" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase 12 hours of instant production for 20 bones. Is this what you wanted to do?', 'purchaseBoost(0)', 20)">
							Buy 12 Hours (20 bones)
						</div>
						<div class="boneBtn primaryColor pointer noselect buyBoostBtn" id="boostPurchaseBtn1" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase 36 hours of instant production for 40 bones. Is this what you wanted to do?', 'purchaseBoost(1)', 40)">
							Buy 36 Hours (40 bones)
						</div>
					</div>
				</div>
				<div id="boneImportsColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">Exotic Imp-orts</div>
					<div class="boostSpacerImports boostSpacer">
					<div class="boneBuyDesc">Exotic Imp-orts will be unlocked permanently once purchased, and will stick around through portals. Each has a 3% chance to spawn per square and better loot than normal enemies. You can also bundle 4 together and get some extra bones.</div>
					<div class="importsPreview">
						<div class="importLocation">Spawns in World</div>
						<table class="table importsTable" id="importsTableWorld0">						
						</table>
						<div class="importLocation table-hover">Spawns in Maps</div>
						<table class="table importsTable" id="importsTableMaps0">					
						</table>
					</div>
					</div>
					<div id="purchaseContainerImports">
						<div class="boneBtn primaryColor pointer noselect" id="importPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase a new Exotic Import for 50 bones. This new bad guy will begin spawning in your next Zone or Map at about an average of 3 spawns per 100 squares. Is this what you wanted to do?', 'purchaseImport()', 50)">
							
						</div>
					</div>
				</div>
				<div id="boneMiscColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">Other Goodies</div>
						<div class="boostSpacer">
						<div id="buyHeliumArea">
							<div class="boneBtn primaryColor pointer noselect" id="heliumPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase one Instant Portal for 100 bones. Your new helium will appear in the View Perks menu at the bottom of the screen. Is this what you wanted to do?', 'purchaseMisc(\'helium\')', 100)"> 
								Buy Portal (100 bones)
							</div>
							<div class="miscDesc">
								<b>+ <span id="heliumGainedMisc"></span> Helium </b><br/>
								Automatically gain helium equal to the amount you would receive for reaching your highest zone, and enable your respec if it has already been used this run
							</div>
						</div>
							<div id="mapsMisc">
								<div class="boneBtn primaryColor pointer noselect" id="mapsPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase Golden Maps for 20 bones. All of your current and future maps will gain +100% loot added to their normal loot roll. Is this what you wanted to do?', 'purchaseMisc(\'maps\')', 20)">
									Buy Golden Maps (20 bones)
								</div>
								<div class="miscDesc" id="goldMapsDesc">
									All of your current and future maps will gain +100% loot <b>Until your next portal</b>
								</div>
							</div>
							<div id="trimpsMisc">
								<div class="boneBtn primaryColor pointer noselect" id="trimpsPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', 'You are about to purchase Quick Trimps for 20 bones. All of your Trimps will create more Trimps twice as fast until the next time you use the Portal. Is this what you wanted to do?', 'purchaseMisc(\'trimps\')', 20)">
									Buy Quick Trimps (20 bones)
								</div>
								<div class="miscDesc" id="quickTrimpsDesc">
									All of your Trimps will breed 2x faster <br/><b>Until your next portal</b>
								</div>
							</div>
					</div>
				</div>
			</div>
		</div>
		<div id="boneWrapper1" style="display: none">
		<div class="row">
			<div class="col-xs-2">		
			</div>
			<div class="col-xs-8">
			<div id="purchaseBonesTitle">
				Purchase Bones
			</div>
			<div id="purchaseBonesDesc">
				Bones can be earned in game or purchased here.<br/>In game, you will earn bones from enemies that randomly spawn in the world
				<div class="boneBuyDesc">
					I love working on this game, but there's still so much to do, and any funds raised through bones will support the continued development of Trimps. Thank you so much for playing!
				</div>
			</div>
			</div>
			<div class="col-xs-2">
					<div class="boneBtn successColor pointer noselect" onclick="hidePurchaseBones()">
							Back to Trader
					</div>
					<div class="boneBtn dangerColor pointer noselect" onclick="hideBones()">
							Close All
					</div>
			</div>
		</div>
		<div id="boneBuyTableContainer">
			<table id="boneBuyTable" class="table">
				<tbody>
					<tr class="pointer noSelect" onclick="kredPurchase('20.bones')">
						<td>
							20 Bones
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							10 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span>
						</td>
					</tr>
					<tr class="pointer noSelect" onclick="kredPurchase('42.bones')">
						<td>42 Bones</td>
						<td>(Includes +2 bones!)</td>
						<td>20 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span></td>
					</tr>
					<tr class="pointer noSelect" onclick="kredPurchase('110.bones')">
						<td>110 Bones</td>
						<td>(Includes +10 bones!)</td>
						<td>50 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span></td>
					</tr>
					<tr class="pointer noSelect" onclick="kredPurchase('230.bones')">
						<td>230 Bones</td>
						<td>(Includes +30 bones!)</td>
						<td>100 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span></td>
					</tr>
					<tr class="pointer noSelect" onclick="kredPurchase('480.bones')">
						<td>480 Bones</td>
						<td>(Includes +80 bones!)</td>
						<td>200 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span></td>
					</tr>
					<tr id="bundleRow" class="pointer noSelect" onclick="startBundling()">
						<td>4 Exotic Imp-orts of your choice<br/>AND 100 bones</td>
						<td>(Includes +100 bones!)</td>
						<td>100 <span class="kredSpan"><img class="kredImg" src="imgs/kred_single.png"></img></span></td>
					</tr>
				</tbody>
			</table>
			</div>
		</div>
		<div id="boneWrapper2" style="display: none">
			<div class="row">
				<div class="col-xs-3">
				
				</div>
				<div class="col-xs-6" style="background-color: #e1e1e1">
					<div id="bundleTitle">Select 4 Exotic Imports!</div>
					<div class="boneBuyDesc">Click once to select an Imp, click again to deselect</div>
					<div id="importsPreview1">
						<div class="importLocation">Spawns in World</div>
						<table class="table importsTable" id="importsTableWorld1">						
						</table>
						<div class="importLocation table-hover">Spawns in Maps</div>
						<table class="table importsTable" id="importsTableMaps1">					
						</table>
					</div>
					<div class="boneBtn pointer noSelect" id="addBundleBtn" onclick="purchaseBundleClicked()"></div>
				</div>
				<div class="col-xs-3">
					<div class="boneBtn successColor pointer noselect" onclick="hidePurchaseBones()">
							Back to Trader
					</div>
					<div class="boneBtn dangerColor pointer noselect" onclick="hideBones()">
							Close All
					</div>
				</div>
			</div>

		</div>
	</div>
	<div id="wrapper" style="background: url(css/bg2.png) center repeat-x;">
		<div id="warnings"></div>
		<div class="row" id="topRow">
			<div class="col-xs-4" id="resourceColumn">
				<div class="row resourceRow">
					<div class="col-xs-6 maxH">
						<div id="food" class="playerGather">
							<span class="title">Food</span>
							<br/>
							<span class="ownedArea"><span id="foodOwned">0</span> / <span id="foodMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar" id="foodBar" role="progressbar">
									<span id="foodTimeToFill"></span>
								</div>
							</div>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="foodCollectBtn" class="workBtn pointer noselect" onclick="setGather('food')">Gather</div>
								</div>
								<div class="col-xs-6">
									<span class="psText pointer noselect" id="foodPs" onclick="getPsString('food')">+0/sec</span>
								</div>
							</div>
						</div>
					</div>

					<div class="col-xs-6 maxH">
						<div id="wood" class="playerGather" style="visibility: hidden;">
							<span class="title">Wood</span>
							<br/>
							<span class="ownedArea"><span id="woodOwned">0</span> / <span id="woodMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar" id="woodBar" role="progressbar">
									<span id="woodTimeToFill"></span>
								</div>
							</div>

							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="woodCollectBtn" class="workBtn pointer noselect" onclick="setGather('wood')">Chop</div>
								</div>
								<div class="col-xs-6">
									<span class="psText pointer noselect" id="woodPs" onclick="getPsString('wood')">+0/sec</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row resourceRow">
					<div class="col-xs-6 maxH">
						<div id="metal" class="playerGather" style="visibility: hidden;">
							<span class="title">Metal</span>
							<br/>
							<span class="ownedArea"><span id="metalOwned">0</span> / <span id="metalMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar" id="metalBar" role="progressbar">
									<span id="metalTimeToFill"></span>
								</div>
							</div>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="metalCollectBtn" class="workBtn pointer noselect" onclick="setGather('metal')">Mine</div>
								</div>
								<div class="col-xs-6">
									<span class="psText pointer noselect" id="metalPs" onclick="getPsString('metal')">+0/sec</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-6 maxH">
						<div id="science" class="playerGather" style="visibility: hidden;">
							<span class="title">Science</span>
							<br/>
							<span class="ownedArea"><span id="scienceOwned">0</span></span>
							<br/>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="scienceCollectBtn" class="workBtn pointer noselect" onclick="setGather('science')">Research</div>
								</div>
								<div class="col-xs-6">
									<span class="psText pointer noselect" id="sciencePs" onclick="getPsString('science')">+0/sec</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-1" id="miscColumn">
				<div id="fragments" class="playerGather playerGatherSm" style="visibility: hidden;">
					<span class="title">Fragments</span>
					<br/>
					<span class="ownedArea"><span id="fragmentsOwned">0</span></span>
					<br/>
					<span class="psText pointer noselect" id="fragmentsPs" style="display: none" onclick="getPsString('fragments')">+0/sec</span>
				</div>
				<div id="gems" class="playerGather playerGatherSm" style="visibility: hidden;">
					<span class="title">Gems</span>
					<br/>
					<span class="ownedArea"><span id="gemsOwned">0</span></span>
					<br/>
					<span class="psText pointer noselect" id="gemsPs" style="display: none" onclick="getPsString('gems')">+0/sec</span>
				</div>
				<div id="helium" class="playerGather playerGatherSm" style="display: none">
					<span class="title">Helium</span>
					<br/>
					<span class="ownedArea"><span id="heliumOwned">0</span></span>
					<br/>
					
				</div>
			</div>
			<div class="col-xs-2" id="trimpsColumn">
				<div id="trimps" class="playerGather" style="visibility: hidden;">
					<span id="trimpTitle" class="title">???</span>
					<br/>
					<span class="ownedArea pointer noselect bdHover" onclick="getMaxTrimps()"><span id="trimpsOwned">0</span> / <span id="trimpsMax">10</span></span>
					<br/>
					<div class="progress resProgress">
						<div class="progress-bar" id="trimpsBar" role="progressbar"></div>
					</div>
					<div id="unempHide" style="visibility: hidden">
						<span id="trimpsUnemployed">0</span> breeding
						<br/><span id="trimpsPs" class="pointer noselect bdHover" onclick="getTrimpPs()">+0/sec</span>
						<br/>
					</div>
					<div id="empHide" style="visibility: hidden">
						<span id="trimpsEmployed">0</span>/<span id="maxEmployed">0</span> employed
					</div>
					<div id="trapArea">
						<div id="trimpsCollectBtn" class="workBtn pointer noSelect" onclick="setGather('trimps')">Check&nbsp;Traps&nbsp;(<span id="trimpTrapText">1</span>)</div>
						<div id="trimpsCollecting" class="collecting" style="display: none">Trapping (<span id="trimpTrapText2">1</span>)</div>
						<div class="progress" id="trappingProgress">
							<div class="progress-bar" id="trappingBar" role="progressbar"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-5" id="logColumn">
				<div id="logContainer">
					<div class="btn-group btn-group-justified" id="logBtnGroup" role="group">
						<div class="btn-group" role="group">
							<button id="StoryFilter" onclick="filterMessage('Story')" type="button" class="btn btn-success logFlt">Story</button>
						</div>
						<div class="btn-group" role="group">
							<button id="LootFilter" onclick="filterMessage('Loot')" type="button" class="btn btn-success logFlt">Loot</button>
						</div>
						<div class="btn-group" role="group">
							<button id="UnlocksFilter" onclick="filterMessage('Unlocks')" type="button" class="btn btn-success logFlt">Unlocks</button>
						</div>
						<div class="btn-group" role="group">
							<button id="CombatFilter" type="button" onclick="filterMessage('Combat')" class="btn btn-success logFlt">Combat</button>
						</div>
<!-- 					<div class="btn-group" role="group">
							<button id="NoticesFilter" type="button" onclick="filterMessage('Notices')" class="btn btn-success logFlt">Notices</button>
						</div> -->
					</div>
					<div id="log" class="niceScroll">
						<span class="storyMessage message"><span class='glyphicon glyphicon-star'></span>A green shimmer erupts then disappears, and you hit the ground. You look pretty hungry...</span>
					</div>
				</div>
			</div>
		</div>
		<div class="row" id="bottomRow">
			<div id="buyCol" class="col-xs-5" style="visibility: hidden;">
				<div id="queueContainer">
					<div class="row" id="queueRow">
						<div class="col-xs-4 lowPad">
							<span id="foremenCount"></span>
						</div>
						<div class="col-xs-2 lowPad">
							<span id="buildSpeed"></span>
						</div>
						<div class="col-xs-3 lowPad">
							<div id="autoTrapBtn" style="display: none" onclick="toggleAutoTrap()" class="workBtn pointer noselect dangerColor">Traps Off</div>
						</div>
						<div class="col-xs-3">
							<div id="buildingsCollectBtn" onclick="setGather('buildings')" class="workBtn pointer noselect">Build</div>
						</div>
					</div>
					<div class="queue niceScroll" id="buildingsQueue">
						<span id='noQueue'>Nothing in queue...</span><div id="queueItemsHere"></div>
					</div>
				</div>
				<div id="outerBuyContainer">	
					<div id="buyTabs">
				<ul id="buyTabsUl" class="nav nav-tabs nav-justified">
					<li role="presentation" id="allTab" onclick="filterTabs('all')" class="buyTab"><a id="allA" href="#">All</a></li>
					<li role="presentation" id="buildingsTab" onclick="filterTabs('buildings')" class="buyTab"><a id="buildingsA" href="#"><span id="buildingsAlert" class="alert badge"></span>Structures</a></li>
					<li role="presentation" id="jobsTab" style="visibility: hidden" onclick="filterTabs('jobs')" class="buyTab"><a id="jobsA" href="#"><span id="jobsAlert" class="alert badge"></span>Jobs</a></li>
					<li role="presentation" id="upgradesTab" style="visibility: hidden" onclick="filterTabs('upgrades')" class="buyTab"><a id="upgradesA" href="#"><span id="upgradesAlert" class="alert badge"></span>Upgrades</a></li>
					<li role="presentation" id="equipmentTab" style="visibility: hidden" onclick="filterTabs('equipment')" class="buyTab"><a id="equipmentA" href="#"><span id="equipmentAlert" class="alert badge"></span>Equipment</a></li>				
				</ul>
				</div>

					<div id="numTabs" class="numTabs">
						<ul class="nav nav-tabs nav-justified">
							<li role="presentation" id="tab1" onclick="numTab(1)">
								<a id="tab1Text" href="#">+1</a>
							</li>
							<li role="presentation" id="tab2" onclick="numTab(2)">
								<a id="tab2Text" href="#">+10</a>
							</li>
							<li role="presentation" id="tab3" onclick="numTab(3)">
								<a id="tab3Text" href="#">+25</a>
							</li>
							<li role="presentation" id="tab4" onclick="numTab(4)">
								<a id="tab4Text" href="#">+100</a>
							</li>
							<li role="presentation" id="tab5">
								<a style="display: inline-block; width: 47%" id="tab5Text" href="#"  onclick="numTab(5)">+1</a>
								<a style="display: inline-block; width: 47%" id="tab5Text2" href="#"  onclick="tooltip('Custom', null, 'update')">Custom</a>
							</li>
						</ul>
					</div>
					<div id="buyContainer" class="niceScroll">


						<div id="buyHere" class="niceScroll">

							<div id="buildingsContainer">
								<div id="buildingsTitleDiv" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="buildingsTitleSpan" class="titleSpan">Buildings</span>
										</div>
									</div>
								</div>
								<div class="buyBox" id="buildingsHere">
								</div>
							</div>
							<div id="jobsContainer">
								<div id="jobsTitleDiv" class="titleDiv" style="display: none">
									<div class="row">
										<div class="col-xs-4" style="padding-right: 5px">
											<span id="jobsTitleSpan" class="titleSpan">Jobs</span>
										</div>
										<div class="col-xs-5 lowPad">
											<span id="jobsTitleUnemployed" class="titleSpan"></span>
										</div>
										<div class="col-xs-3" style="padding-left: 5px">
											<div id="fireBtn" class="pointer noselect" onclick="fireMode()" onmouseover="tooltip('Fire Trimps',null,event)" onmouseout="tooltip('hide')">Fire</div>
										</div>
									</div>
									<div class="row">
									</div>
								</div>
								<div class="buyBox" id="jobsHere">
								</div>
							</div>
							<div id="upgradesContainer">
								<div id="upgradesTitleDiv" style="display: none" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="upgradesTitleSpan" class="titleSpan">Upgrades (research first)</span>
										</div>
									</div>
								</div>
								<div class="buyBox" id="upgradesHere">
								</div>
							</div>
							<div id="equipmentContainer">
								<div id="equipmentTitleDiv" style="display: none" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="equipmentTitleSpan" class="titleSpan">Equipment</span>
										</div>
									</div>
								</div>
							
								<div class="buyBox" id="equipmentHere"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-7" id="rightCol">
				<div id="battleContainer" style="visibility: hidden">
					<div id="battleHeadContainer">
						<div class="row" id="battleStatsRow">
							<div class="col-xs-6" id="goodGuyCol">
								<div class="row">
									<div class="col-xs-7" style="padding-right: 5px">
										<div class="battleStatsTitle" id="goodGuyName">Trimps (<span id="trimpsFighting">1</span>) <span id="anticipationSpan"></span> <span id="debuffSpan"></span></div>
									</div>
									<div class="col-xs-5" style="padding-left: 5px;">
										<div class="row">
											<div class="col-xs-3 lowPad">
												<div class="formationBtn pointer" onclick="setFormation('0')" id="formation0" title="No Formation">
													X
												</div>
											</div>
											<div class="col-xs-3 lowPad">
												<div class="formationBtn pointer" onclick="setFormation('1')" id="formation1" title="Heap Formation - Trimps gain 4x health but lose half of their attack and block">
													H
												</div>										
											</div>
											<div class="col-xs-3 lowPad">
												<div class="formationBtn pointer" onclick="setFormation('2')" id="formation2" title="Dominance Formation - Trimps gain 4x attack but lose half of their health and block">
													D
												</div>										
											</div>
											<div class="col-xs-3 lowPad">
												<div class="formationBtn pointer" onclick="setFormation('3')" id="formation3" title="Barrier Formation - Trimps gain 4x block but lose half of their health and attack">
													B
												</div>											
											</div>
										</div>
									</div>
								</div>
								<div class="row guyRow" id="goodGuyStatsRow">
									<div class="col-xs-8 bdHover pointer noselect" onclick="getBattleStatBd('attack')">
										<span id="goodGuyAttack"></span> DMG <span id="critSpan"></span>
									</div>
									<div class="col-xs-4 pointer noselect bdHover" id="blockDiv" style="visibility: hidden" onclick="getBattleStatBd('block')">
										<span id="goodGuyBlock">0</span> BLK
									</div>
								</div>
								<div class="progress fightBar">
									<div class="progress-bar" id="goodGuyBar" role="progressbar">
										<span class="bdHover pointer noselect innerFightBar" onclick="getBattleStatBd('health')">
											<span id="goodGuyHealth">0</span>/<span id="goodGuyHealthMax">0</span>
										</span>
									</div>
								</div>
							</div>
							<div class="col-xs-6" id="badGuyCol" style="visibility: hidden">
								<span class="battleStatsTitle" id="badGuyName"></span>
								<div class="guyRow" id="badGuyRow">
									<div>
										<span id="badGuyAttack"></span> DMG
									</div>
								</div>
								<div class="progress fightBar">
									<div class="progress-bar" id="badGuyBar" role="progressbar">
										<span class="innerFightBar">
											<span id="badGuyHealth">0</span>/<span id="badGuyHealthMax">0</span>
										</span>
									</div>
								</div>
							</div>
						</div>
						
					</div>
					<div class="row" id="gridRow">
						<div class="col-xs-2" id="battleBtnsColumn">
							<div id="battleSideTitle">
									<span id="worldName">Zone</span> <span id="worldNumber">1</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-primary fightBtn" id="fightBtn" onmouseover="tooltip('Fight',null,event)" onmouseout="tooltip('hide')" onclick="fightManual()">
									Fight
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-danger fightBtn" id="pauseFight" onmouseover="tooltip('AutoFight',null,event)" onmouseout="tooltip('hide')" onclick="pauseFight()" style="display: none">
									AutoFight Off
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-warning fightBtn" id="mapsBtn" onmouseover="tooltip('Maps', null, event)" onmouseout="tooltip('hide')" onclick="mapsClicked()" style="display: none">
									Maps
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-info fightBtn" id="portalBtn" onmouseover="tooltip('Portal', null, event)" onmouseout="tooltip('hide')" onclick="portalClicked()" style="display: none">
									Portal
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-danger fightBtn" id="repeatBtn" onmouseover="tooltip('Repeat Map', null, event)" onmouseout="tooltip('hide')" onclick = "repeatClicked()" style="display: none">
									Repeat Off
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-default fightBtn" id="boneBtn" onclick="showBones()">
									Bone Trader
								</span>
							</div>
						</div>
						<div class="col-xs-10" id="gridContainer">
							<div id="grid"></div>
							<div id="preMaps" style="display: none">
							<div style="display: none" id="mapsCreateRow" class="row">
							<div id="mapLevelContainer" class="col-xs-4">
								Level <span class="pointer noselect incrementBtn" onclick="incrementMapLevel(-1)"><span class="glyphicon glyphicon-download"></span></span><input onkeyup="updateMapCost()" type="number" id="mapLevelInput"><span class="pointer noselect incrementBtn" onclick="incrementMapLevel(1)"><span class="glyphicon glyphicon-upload"></span></span>
							</div>
							<div id="mapCostContainer" class="col-xs-4 lowPad">
								<span id="mapCostFragmentCost"></span><span id="mapCostFragmentText"> Fragments</span>
							</div>
							<div id="mapCreateBtn" onclick='buyMap()' class="workBtn primaryColor pointer noselect col-xs-4">
								Create
							</div>
						</div>
							<div id="advMapsRow" class="row">
								<div id="advLootContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										Loot
									</div>
									<input value="0" id="lootAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('loot', this.value)" onchange="adjustMap('loot', this.value)">
									<div id="lootAdvMapsText"></div>
								</div>
								<div id="advSizeContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										Size
									</div>
									<input value="0" id="sizeAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('size', this.value)" onchange="adjustMap('size', this.value)">
									<div id="sizeAdvMapsText"></div>
								</div>
								<div id="advDifficultyContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										Difficulty
									</div>
									<input value="0" id="difficultyAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('difficulty', this.value)" onchange="adjustMap('difficulty', this.value)">
									<div id="difficultyAdvMapsText"></div>
								</div>
								<div id="advBiomeContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										Biome
									</div>
									<select id="biomeAdvMapsSelect" onchange="updateMapCost()">
										<option value="Random">Random</option>
										<option value="Mountain">Mountain</option>
										<option value="Forest">Forest</option>
										<option value="Sea">Sea</option>
									</select>
									<div id="difficultyAdvMapsText"></div>
								</div>
							</div>
								
								<div id="selectedMapContainer" class="row">
									<div id="selectedMapCol" class="col-xs-3 lowPad">
										<div id="selectedMapName"></div><br/>
									</div>

									<div id="mapStatsCol3" class="col-xs-5 lowPad">
									<div class="row">
										<div class="col-xs-7 mapStatsCol">
											<div class="mapStatsTitle">Items</div>
											<div class="mapStatsTitle">Resource</div>
										</div>
										<div id="mapStatsCol4" class="col-xs-5 mapStatsCol">
											<div class="mapStatsValue" id="mapStatsItems"></div>
											<div class="mapStatsValue" id="mapStatsResource"></div>
										</div>
									</div>
									<div id="selectMapBtns">
										<span id="selectMapBtn" class="workBtn pointer noselect infoColor selectMapBtn" style="visibility: hidden" onclick="runMap()">
											Run Map
										</span>
										<span id="recycleMapBtn" class="workBtn pointer noselect dangerColor selectMapBtn" style="visibility: hidden" onclick="recycleMap()">
											Recycle Map
										</span>
									</div>
									</div>
									<div id="mapStatsCol1" class="col-xs-2 mapStatsCol">
										<div class="mapStatsTitle">Size</div>
										<div class="mapStatsTitle">Difficulty</div>
										<div class="mapStatsTitle">Loot</div>
									</div>
									<div id="mapStatsCol2" class="col-xs-2 mapStatsCol">
										<div class="mapStatsValue" id="mapStatsSize"></div>
										<div class="mapStatsValue" id="mapStatsDifficulty"></div>
										<div class="mapStatsValue" id="mapStatsLoot"></div>
									</div>

									
								</div>
								<div id="mapsHere" class="niceScroll">
								</div>
							</div>
							<div id="mapGrid" style="display: none;"></div>
							<div id="extraGridInfo" style="display: none;">
								<div id="extraGridInfoTitle"></div>
								<div id="extraGridInfoSummary"></div>
								<div id="extraGridInfoSub"></div>
								<div id="extraGridInfoBtns">
									<span class="btn btn-info" onclick="restoreGrid()">Continue</span>
								</div> 
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="settingsRow">
			<table id="settingsTable">
				<tr>
					<td class="btn btn-info" onclick="save()">
						Save <span id="saveIndicator"></span>
					</td>
					<td class="btn btn-info" onclick="tooltip('Export', null, 'update')">
						<div>Export</div>
					</td>
					<td class="btn btn-info" onclick="tooltip('Import', null, 'update')">
						<div>Import</div>
					</td>
					<td class="btn btn-default" onclick="toggleSettingsMenu()">
						<div>Settings</div>
					</td>
					<td class="btn" id="pastUpgradesBtn" onclick="viewPortalUpgrades()">
						
					</td>
					<td class="btn btn-new" onclick="window.open('updates.html', '_blank')">
							V <span id="versionNumber"></span> | What's New 
					</td>
					<td id="portalTimer">
						&nbsp;
					</td>
				</tr>
			</table>
			<div id="settingsHere" style="display: none"></div>
		</div>
	</div>

		<div id="portalWrapper" style="display: none">
		<div id="portalTitle"></div>
		<div id="portalError" style="display: none"></div>
		<div id="portalHelium"><span id="portalHeliumOwned">0</span> Helium Canisters</div>
		<div id="portalTotalHelium"><span id="totalHeliumEarned">0</span> Earned All Time</div>
		<div class="row" id="portalRow">
			<div id="perkCol" class="col-xs-6">
			<div id="portalStory"></div>
				<div id="pnumTabs" class="numTabs">
					<ul class="nav nav-tabs nav-justified" id="portalTabs">
						<li role="presentation" id="ptab1" onclick="numTab(1, true)">
							<a id="ptab1Text" href="#">+1</a>
						</li>
						<li role="presentation" id="ptab2" onclick="numTab(2, true)">
							<a id="ptab2Text" href="#">+10</a>
						</li>
						<li role="presentation" id="ptab3" onclick="numTab(3, true)">
							<a id="ptab3Text" href="#">+25</a>
						</li>
						<li role="presentation" id="ptab4" onclick="numTab(4, true)">
							<a id="ptab4Text" href="#">+100</a>
						</li>
						<li role="presentation" id="ptab5" onclick="tooltip('Custom', null, 'update', true)">
							<a id="ptab5Text" href="#">Custom</a>
						</li>
						<li role="presentation" id="ptabRemove" style="display: none" onclick="toggleRemovePerks()">
							<a id="ptabRemoveText" href="#">Remove</a>
						</li>
					</ul>
				</div>
				<div style="text-align: center">
					<div class="btn btn-warning inPortalBtnSm" style="display: none" id="clearPerksBtn" onclick="clearPerks()">Clear All Perks</div>
				</div>
				<div id="portalUpgradesHere"></div>
			</div>
			<div id="challengeCol" class="col-xs-6">
				<div id="viewChallenge" style="display: none">
					<span id="viewChallengeText">You do not currently have an active challenge.</span>
				<br/><br/>
				<div class="btn btn-warning inPortalBtn" style="display: none" id="cancelChallengeBtn" onclick="confirmAbandonChallenge()">Abandon Challenge</div>

				</div>
				<div id="challenges"  style="display: none">
					<div id="challengeTitle">Challenges</div>
					<div id="challengeDescription">
						You can also choose to activate a challenge before using your portal. The first time you complete a challenge, you'll earn a permanent reward. You can abandon or view an active challenge at any time by clicking the "View Perks" button.
						<span id="flagMustRestart" style="display: none;"><b>If you abandon this challenge, the portal will become unstable and the world will restart (you'll keep permanent bonuses like helium)</b></span>

						<div id="specificChallengeDescription">
						
						</div>
					</div>
					<div id="challengesHere">
					
					</div>
				</div>
			</div>
		</div>
		<div id="portalBtnContainer">
			<div class="btn btn-primary inPortalBtn" id="activatePortalBtn" onclick="activateClicked()">Activate Portal</div>
			<div class="btn btn-danger inPortalBtn" id="cancelPortalBtn" onclick="cancelPortal()">Cancel</div>
			<div class="btn btn-warning inPortalBtn" style="display: none" id="respecPortalBtn" onclick="respecPerks()" onmouseover="tooltip('Respec', null, event)" onmouseout="tooltip('hide')"></div>
		</div>
	</div>

	<div id="tooltipDiv" style="display: none">
		<div id="tipTitle"></div>
		<hr/>
		<div id="tipText"></div>
		<hr/>
		<div id="tipCost"></div>
	</div>

	<script type="text/javascript" src="lz-string.js"></script>
	<script type="text/javascript" src="config.js?45"></script>
	<script type="text/javascript" src="updates.js?45"></script>
	<script type="text/javascript" src="main.js?45"></script>
			<script type="text/javascript">
	document.body.addEventListener('DOMMouseScroll', onWheel, true);
	document.body.addEventListener('mousewheel', onWheel, true);
	var buyCol = document.getElementById("buyCol");
	var buyHere = document.getElementById("buyContainer");
	function onWheel (e){
		if (e.target.parentElement.offsetParent === buyCol){
		try{
		if((e.wheelDelta < 0 && (buyHere.scrollTop === (buyHere.scrollHeight - buyHere.offsetHeight))) || (e.wheelDelta > 0 && (buyHere.scrollTop == 0))){
			e.preventDefault();
			e.stopPropagation();
			}
		}
		catch(err){
		
		}
		}
	}
	</script>
</body>

</html>